!function(e){var t;function a(a,r,n){e("#jqoembeddata").data(r,a.code),t.beforeEmbed.call(n,a),t.onEmbed.call(n,a),t.afterEmbed.call(n,a)}e.fn.oembed=function(r,n,o){return t=e.extend(!0,e.fn.oembed.defaults,n),0===e("#jqoembeddata").length&&e('<span id="jqoembeddata"></span>').appendTo("body"),this.each(function(){var n,i=e(this),d=!r||r.indexOf("http://")&&r.indexOf("https://")?i.attr("href"):r;return o?t.onEmbed=o:t.onEmbed||(t.onEmbed=function(a){e.fn.oembed.insertCode(this,t.embedMethod,a)}),null!==d&&void 0!==d&&(n=e.fn.oembed.getOEmbedProvider(d),!1==!!t.fallback&&(n="opengraph"===n.name.toLowerCase()?null:n),null!==n?(n.params=function(e){if(null===e)return null;var t,a={};for(t in e)null!==t&&(a[t.toLowerCase()]=e[t]);return a}(t[n.name])||{},n.maxWidth=t.maxWidth,n.maxHeight=t.maxHeight,function(r,n,o){if(void 0!=e("#jqoembeddata").data(n)&&"iframe"!=o.embedtag.tag){var i={code:e("#jqoembeddata").data(n)};a(i,n,r)}else if(o.yql){var d=o.yql.from||"htmlstring",l=o.yql.url?o.yql.url(n):n,s="SELECT * FROM "+d+' WHERE url="'+l+'" and '+(/html/.test(d)?"xpath":"itemPath")+"='"+(o.yql.xpath||"/")+"'";"html"==d&&(s+=" and compat='html5'");var m=e.extend({url:"//query.yahooapis.com/v1/public/yql",dataType:"jsonp",data:{q:s,format:"json",env:"store://datatables.org/alltableswithkeys",callback:"?"},success:function(t){var i;if(o.yql.xpath&&"//meta|//title|//link"==o.yql.xpath){var d={};null==t.query&&(t.query={}),null==t.query.results&&(t.query.results={meta:[]});for(var s=0,m=t.query.results.meta.length;s<m;s++){var u=t.query.results.meta[s].name||t.query.results.meta[s].property||null;null!=u&&(d[u.toLowerCase()]=t.query.results.meta[s].content)}if(d.hasOwnProperty("title")&&d.hasOwnProperty("og:title")||null!=t.query.results.title&&(d.title=t.query.results.title),!d.hasOwnProperty("og:image")&&t.query.results.hasOwnProperty("link"))for(var s=0,m=t.query.results.link.length;s<m;s++)t.query.results.link[s].hasOwnProperty("rel")&&"apple-touch-icon"==t.query.results.link[s].rel&&("/"==t.query.results.link[s].href.charAt(0)?d["og:image"]=l.match(/^(([a-z]+:)?(\/\/)?[^\/]+\/).*$/)[1]+t.query.results.link[s].href:d["og:image"]=t.query.results.link[s].href);i=o.yql.datareturn(d)}else i=o.yql.datareturn?o.yql.datareturn(t.query.results):t.query.results.result;if(!1!==i){var c=e.extend({},i);c.code=i,a(c,n,r)}},error:t.onError.call(r,n,o)},t.ajaxOptions||{});e.ajax(m)}else if(o.templateRegex)if(""!==o.embedtag.tag){var u=o.embedtag.flashvars||"",c=o.embedtag.tag||"embed",p=o.embedtag.width||"auto",f=o.embedtag.height||"auto",h=n.replace(o.templateRegex,o.apiendpoint);o.nocache||(h+="&jqoemcache="+function e(t,a){a=a||"";return t?e(--t,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".charAt(Math.floor(60*Math.random()))+a):a}(5)),o.apikey&&(h=h.replace("_APIKEY_",t.apikeys[o.name]));var b=e("<"+c+"/>").attr("src",h).attr("width",p).attr("height",f).attr("allowfullscreen",o.embedtag.allowfullscreen||"true").attr("allowscriptaccess",o.embedtag.allowfullscreen||"always").css("max-height",t.maxHeight||"auto").css("max-width",t.maxWidth||"auto");"embed"==c&&b.attr("type",o.embedtag.type||"application/x-shockwave-flash").attr("flashvars",n.replace(o.templateRegex,u)),"iframe"==c&&b.attr("scrolling",o.embedtag.scrolling||"no").attr("frameborder",o.embedtag.frameborder||"0"),a({code:b},n,r)}else o.apiendpoint?(o.apikey&&(o.apiendpoint=o.apiendpoint.replace("_APIKEY_",t.apikeys[o.name])),m=e.extend({url:n.replace(o.templateRegex,o.apiendpoint),dataType:"jsonp",success:function(t){var i=e.extend({},t);i.code=o.templateData(t),a(i,n,r)},error:t.onError.call(r,n,o)},t.ajaxOptions||{}),e.ajax(m)):a({code:n.replace(o.templateRegex,o.template)},n,r);else{var v=function(e,t){var a,r=e.apiendpoint,n="";r=(r+=r.indexOf("?")<=0?"?":"&").replace("#","%23"),null===e.maxWidth||void 0!==e.params.maxwidth&&null!==e.params.maxwidth||(e.params.maxwidth=e.maxWidth);null===e.maxHeight||void 0!==e.params.maxheight&&null!==e.params.maxheight||(e.params.maxheight=e.maxHeight);for(a in e.params)a!=e.callbackparameter&&null!==e.params[a]&&(n+="&"+escape(a)+"="+e.params[a]);r+="format="+e.format+"&url="+escape(t)+n,"json"!=e.dataType&&(r+="&"+e.callbackparameter+"=?");return r}(o,n);m=e.extend({url:v,dataType:o.dataType||"jsonp",success:function(t){var o=e.extend({},t);switch(o.type){case"file":case"photo":o.code=e.fn.oembed.getPhotoCode(n,o);break;case"video":case"rich":o.code=e.fn.oembed.getRichCode(n,o);break;default:o.code=e.fn.oembed.getGenericCode(n,o)}a(o,n,r)},error:t.onError.call(r,n,o)},t.ajaxOptions||{}),e.ajax(m)}}(i,d,n)):t.onProviderNotFound.call(i,d)),i})},e.fn.oembed.defaults={fallback:!0,maxWidth:null,maxHeight:null,includeHandle:!0,embedMethod:"auto",onProviderNotFound:function(){},beforeEmbed:function(){},afterEmbed:function(){},onEmbed:!1,onError:function(e,t,a,r){},ajaxOptions:{}},e.fn.oembed.insertCode=function(a,r,n){if(null!==n)switch("auto"===r&&null!==a.attr("href")?r="append":"auto"==r&&(r="replace"),r){case"replace":a.replaceWith(n.code);break;case"fill":a.html(n.code);break;case"append":a.wrap('<div class="oembedall-container"></div>');var o=a.parent();t.includeHandle&&e('<span class="oembedall-closehide">&darr;</span>').insertBefore(a).click(function(){var t=encodeURIComponent(e(this).text());e(this).html("%E2%86%91"==t?"&darr;":"&uarr;"),e(this).parent().children().last().toggle()}),o.append("<br/>");try{n.code.clone().appendTo(o)}catch(e){o.append(n.code)}if(t.maxWidth){var i=o.parent().width();if(i<t.maxWidth){var d=e("iframe",o).width(),l=e("iframe",o).height(),s=d/i;e("iframe",o).width(d/s),e("iframe",o).height(l/s)}else t.maxWidth&&e("iframe",o).width(t.maxWidth),t.maxHeight&&e("iframe",o).height(t.maxHeight)}}},e.fn.oembed.getPhotoCode=function(e,t){var a,r=t.title?t.title:"";if(r+=t.author_name?" - "+t.author_name:"",r+=t.provider_name?" - "+t.provider_name:"",t.url)a='<div><a href="'+e+"\" target='_blank'><img src=\""+t.url+'" alt="'+r+'"/></a></div>';else if(t.thumbnail_url){a='<div><a href="'+e+"\" target='_blank'><img src=\""+t.thumbnail_url.replace("_s","_b")+'" alt="'+r+'"/></a></div>'}else a="<div>Error loading this picture</div>";return t.html&&(a+="<div>"+t.html+"</div>"),a},e.fn.oembed.getRichCode=function(e,t){return t.html},e.fn.oembed.getGenericCode=function(e,t){var a='<a href="'+e+'">'+(t.title&&null!==t.title?t.title:e)+"</a>";return t.html&&(a+="<div>"+t.html+"</div>"),a},e.fn.oembed.getOEmbedProvider=function(t){for(var a=0;a<e.fn.oembed.providers.length;a++)for(var r=0,n=e.fn.oembed.providers[a].urlschemes.length;r<n;r++){var o=new RegExp(e.fn.oembed.providers[a].urlschemes[r],"i");if(null!==t.match(o))return e.fn.oembed.providers[a]}return null},e.fn.oembed.OEmbedProvider=function(e,t,a,r,n){this.name=e,this.type=t,this.urlschemes=a,this.apiendpoint=r,this.maxWidth=500,this.maxHeight=400,(n=n||{}).useYQL&&("xml"==n.useYQL?n.yql={xpath:"//oembed/html",from:"xml",apiendpoint:this.apiendpoint,url:function(e){return this.apiendpoint+"?format=xml&url="+e},datareturn:function(e){return e.html.replace(/.*\[CDATA\[(.*)\]\]>$/,"$1")||""}}:n.yql={from:"json",apiendpoint:this.apiendpoint,url:function(e){return this.apiendpoint+"?format=json&url="+e},datareturn:function(e){return"video"!=e.json.type&&(e.json.url||e.json.thumbnail_url)?'<img src="'+(e.json.url||e.json.thumbnail_url)+'" />':e.json.html||""}},this.apiendpoint=null);for(var o in n)this[o]=n[o];this.format=this.format||"json",this.callbackparameter=this.callbackparameter||"callback",this.embedtag=this.embedtag||{tag:""}},e.fn.updateOEmbedProvider=function(t,a,r,n,o){for(var i=0;i<e.fn.oembed.providers.length;i++)if(e.fn.oembed.providers[i].name===t&&(null!==a&&(e.fn.oembed.providers[i].type=a),null!==r&&(e.fn.oembed.providers[i].urlschemes=r),null!==n&&(e.fn.oembed.providers[i].apiendpoint=n),null!==o)){e.fn.oembed.providers[i].extraSettings=o;for(var d in o)null!==d&&null!==o[d]&&(e.fn.oembed.providers[i][d]=o[d])}},e.fn.oembed.providers=[new e.fn.oembed.OEmbedProvider("youtube","video",["youtube\\.com/watch.+v=[\\w-]+&?","youtu\\.be/[\\w-]+","youtube.com/embed"],"https://www.youtube.com/embed/$1?wmode=transparent&autoplay=1",{templateRegex:/.*(?:v\=|be\/|embed\/)([\w\-]+)&?.*/,embedtag:{tag:"iframe",width:"425",height:"349"}}),new e.fn.oembed.OEmbedProvider("vimeo","video",["www.vimeo.com/groups/.*/videos/.*","www.vimeo.com/.*","vimeo.com/groups/.*/videos/.*","vimeo.com/.*"],"https://vimeo.com/api/oembed.json"),new e.fn.oembed.OEmbedProvider("instagram","photo",["instagr\\.?am(\\.com)?/.+"],"https://api.instagram.com/oembed"),new e.fn.oembed.OEmbedProvider("twitter","rich",["twitter.com/.+"],"https://api.twitter.com/1/statuses/oembed.json"),new e.fn.oembed.OEmbedProvider("linkedin","rich",["linkedin.com/pub/.+"],"https://www.linkedin.com/cws/member/public_profile?public_profile_url=$1&format=inline&isFramed=true",{templateRegex:/(.*)/,embedtag:{tag:"iframe",width:"368px",height:"auto"}}),new e.fn.oembed.OEmbedProvider("facebook_post","rich",["facebook.com/.+/posts/.+"],null,{templateRegex:/.*\/([^\/]+)\/([^\/]+).*/,template:function(t){if(!e.fn.oembed.facebokScriptHasBeenAdded){e('<div id="fb-root"></div>').appendTo("body");var a=document.createElement("script");a.type="text/javascript",a.text='(function(d, s, id) {var js, fjs = d.getElementsByTagName(s)[0];if (d.getElementById(id)) return;js = d.createElement(s); js.id = id;js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";fjs.parentNode.insertBefore(js, fjs);}(document, "script", "facebook-jssdk"));',document.body.appendChild(a),e.fn.oembed.facebokScriptHasBeenAdded=!0}return'<div class="fb-post" data-href="'+t+'" data-width="520"><div class="fb-xfbml-parse-ignore"><a href="'+t+'"></div></div>'}}),new e.fn.oembed.OEmbedProvider("facebook_video","rich",["facebook.com/.+/videos/.+"],null,{templateRegex:/.*\/([^\/]+)\/([^\/]+).*/,template:function(t){if(!e.fn.oembed.facebokScriptHasBeenAdded){e('<div id="fb-root"></div>').appendTo("body");var a=document.createElement("script");a.type="text/javascript",a.text='(function(d, s, id) {var js, fjs = d.getElementsByTagName(s)[0];if (d.getElementById(id)) return;js = d.createElement(s); js.id = id;js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";fjs.parentNode.insertBefore(js, fjs);}(document, "script", "facebook-jssdk"));',document.body.appendChild(a),e.fn.oembed.facebokScriptHasBeenAdded=!0}return'<div class="fb-video" data-href="'+t+'" data-width="520"><div class="fb-xfbml-parse-ignore"><a href="'+t+'"></div></div>'}})]}(jQuery),String.prototype.md5=function(){var e=function(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a},t=function(t,a,r,n,o,i){return e((d=e(e(a,t),e(n,i)))<<(l=o)|d>>>32-l,r);var d,l},a=function(e,a,r,n,o,i,d){return t(a&r|~a&n,e,a,o,i,d)},r=function(e,a,r,n,o,i,d){return t(a&n|r&~n,e,a,o,i,d)},n=function(e,a,r,n,o,i,d){return t(a^r^n,e,a,o,i,d)},o=function(e,a,r,n,o,i,d){return t(r^(a|~n),e,a,o,i,d)};return function(e){var t,a="0123456789abcdef",r="",n=4*e.length;for(t=0;t<n;t++)r+=a.charAt(e[t>>2]>>t%4*8+4&15)+a.charAt(e[t>>2]>>t%4*8&15);return r}(function(t){var i,d,l,s,m,u=t.length,c=1732584193,p=-271733879,f=-1732584194,h=271733878;for(m=0;m<u;m+=16)i=c,d=p,l=f,s=h,c=a(c,p,f,h,t[m+0],7,-680876936),h=a(h,c,p,f,t[m+1],12,-389564586),f=a(f,h,c,p,t[m+2],17,606105819),p=a(p,f,h,c,t[m+3],22,-1044525330),c=a(c,p,f,h,t[m+4],7,-176418897),h=a(h,c,p,f,t[m+5],12,1200080426),f=a(f,h,c,p,t[m+6],17,-1473231341),p=a(p,f,h,c,t[m+7],22,-45705983),c=a(c,p,f,h,t[m+8],7,1770035416),h=a(h,c,p,f,t[m+9],12,-1958414417),f=a(f,h,c,p,t[m+10],17,-42063),p=a(p,f,h,c,t[m+11],22,-1990404162),c=a(c,p,f,h,t[m+12],7,1804603682),h=a(h,c,p,f,t[m+13],12,-40341101),f=a(f,h,c,p,t[m+14],17,-1502002290),p=a(p,f,h,c,t[m+15],22,1236535329),c=r(c,p,f,h,t[m+1],5,-165796510),h=r(h,c,p,f,t[m+6],9,-1069501632),f=r(f,h,c,p,t[m+11],14,643717713),p=r(p,f,h,c,t[m+0],20,-373897302),c=r(c,p,f,h,t[m+5],5,-701558691),h=r(h,c,p,f,t[m+10],9,38016083),f=r(f,h,c,p,t[m+15],14,-660478335),p=r(p,f,h,c,t[m+4],20,-405537848),c=r(c,p,f,h,t[m+9],5,568446438),h=r(h,c,p,f,t[m+14],9,-1019803690),f=r(f,h,c,p,t[m+3],14,-187363961),p=r(p,f,h,c,t[m+8],20,1163531501),c=r(c,p,f,h,t[m+13],5,-1444681467),h=r(h,c,p,f,t[m+2],9,-51403784),f=r(f,h,c,p,t[m+7],14,1735328473),p=r(p,f,h,c,t[m+12],20,-1926607734),c=n(c,p,f,h,t[m+5],4,-378558),h=n(h,c,p,f,t[m+8],11,-2022574463),f=n(f,h,c,p,t[m+11],16,1839030562),p=n(p,f,h,c,t[m+14],23,-35309556),c=n(c,p,f,h,t[m+1],4,-1530992060),h=n(h,c,p,f,t[m+4],11,1272893353),f=n(f,h,c,p,t[m+7],16,-155497632),p=n(p,f,h,c,t[m+10],23,-1094730640),c=n(c,p,f,h,t[m+13],4,681279174),h=n(h,c,p,f,t[m+0],11,-358537222),f=n(f,h,c,p,t[m+3],16,-722521979),p=n(p,f,h,c,t[m+6],23,76029189),c=n(c,p,f,h,t[m+9],4,-640364487),h=n(h,c,p,f,t[m+12],11,-421815835),f=n(f,h,c,p,t[m+15],16,530742520),p=n(p,f,h,c,t[m+2],23,-995338651),c=o(c,p,f,h,t[m+0],6,-198630844),h=o(h,c,p,f,t[m+7],10,1126891415),f=o(f,h,c,p,t[m+14],15,-1416354905),p=o(p,f,h,c,t[m+5],21,-57434055),c=o(c,p,f,h,t[m+12],6,1700485571),h=o(h,c,p,f,t[m+3],10,-1894986606),f=o(f,h,c,p,t[m+10],15,-1051523),p=o(p,f,h,c,t[m+1],21,-2054922799),c=o(c,p,f,h,t[m+8],6,1873313359),h=o(h,c,p,f,t[m+15],10,-30611744),f=o(f,h,c,p,t[m+6],15,-1560198380),p=o(p,f,h,c,t[m+13],21,1309151649),c=o(c,p,f,h,t[m+4],6,-145523070),h=o(h,c,p,f,t[m+11],10,-1120210379),f=o(f,h,c,p,t[m+2],15,718787259),p=o(p,f,h,c,t[m+9],21,-343485551),c=e(c,i),p=e(p,d),f=e(f,l),h=e(h,s);return[c,p,f,h]}(function(e){var t,a,r=1+(e.length+8>>6),n=[],o=16*r,i=e.length;for(t=0;t<o;t++)n.push(0);for(a=0;a<i;a++)n[a>>2]|=(255&e.charCodeAt(a))<<a%4*8;return n[a>>2]|=128<<a%4*8,n[16*r-2]=8*i,n}(this)))};
